# ai-gm-core API (Draft)

※ 本ドキュメントは **実装仕様書ではない**。
※ ai-gm-core における「外部との接点の考え方」を整理するための **雛形メモ**である。
※ 実際のエンドポイント・パラメータ・型定義は今後自由に変えてよい。

---

## 目的

この API は、ゲームクライアントやツールから
**「行動ログ」を ai-gm-core に渡し、
「世界の変化」を物語として受け取るための最小接点**を定義する。

* 認証は扱わない
* セキュリティは扱わない
* 商用運用は想定しない

この API は **GMの頭脳に触るための入口**である。

---

## 基本思想

* コマンドを送らせない
* 行動ログそのものを入力とする
* 正誤判定はしない
* 世界は非同期で進む

API は「ゲームサーバー」ではなく
**Narrative Interface** として設計される。

---

## 想定ユースケース

* ゲームエンジン（Unreal / Unity など）
* CLI ツール
* テキストベースの実験クライアント
* 手動 curl リクエスト

「curl で叩けて、物語が返る」ことを最小ゴールとする。

---

## 想定エンドポイント（例）

### POST /gm/observe

プレイヤーの行動ログを送信する。

#### リクエスト（概念）

* world_id
* session_id
* player_action_log
* （任意）補助的なメタ情報

※ world_id / session_id の管理方法は固定しない。

#### player_action_log に含まれうるもの（例）

* 何をしたか
* 何をしなかったか
* どこで迷ったか
* 何を避け続けたか
* 沈黙・放置・不介入

形式は厳密に定義しない。
**解釈は ai-gm-core 側に委ねる。**

---

### レスポンス（概念）

* narrative
* world_delta（あってもよい）
* note / hint（あってもよい）

数値的な成功／失敗は返さない。

返すのは、

**「その結果、世界がどう変わったか」**

の描写である。

---

## 世界文脈の扱いについて

* 世界観や設定は API の必須入力ではない
* 必要な文脈は ai-gm-core 側で選別される

詳細は `README_jp.md`
「世界観・設定の扱いについて（備忘メモ）」を参照。

---

## 重要な前提（再確認）

* この API は完成形ではない
* 将来の LLM 性能を前提にしない
* 最小構成で成立することを優先する
* 実装は例示であり、拘束力はない

---

## このドキュメントの役割

* 思想の共有
* 議論の起点
* 「どこまで決めていないか」を明示すること

API は変わってよい。
**考え方が残れば、それで十分。**
